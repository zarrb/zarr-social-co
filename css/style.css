:root {
    --zaar-golden: #f7dc4a;
    --zaar-deep-bronze: #bb9935; 
    --zaar-rich-blue: #284664;
    --zaar-deep-olive-green: #636B2F;
    --zaar-bold-red: #D25E41;
    --zaar-warm-amber: #AA7761;

    --text-primary: #2c3e50; 
    --text-secondary: #7f8c8d; 
    --text-muted: #95a5a6;   
    --background-main: #fbfcfe; 
    --background-content: #ffffff; 
    --border-light: #dde1e2; 
    --border-table-row: #e8ecef; 
    --shadow-soft: 0 5px 15px rgba(0, 0, 0, 0.07); 
    --shadow-minimal: 0 2px 8px rgba(0, 0, 0, 0.05);
    --shadow-hover: 0 10px 25px rgba(0, 0, 0, 0.1); 
    --shadow-fab: 0 6px 20px rgba(0, 0, 0, 0.15);
    --modal-overlay-color: rgba(44, 62, 80, 0.75); 
    --discount-color: var(--zaar-bold-red); 
    --upload-panel-width-desktop: 65vw; 
    --upload-panel-max-width: 800px; 
}

/* Preloader Styles (same as before) */
#preloader {
    position: fixed; left: 0; top: 0; z-index: 99999; width: 100%; height: 100%;
    overflow: visible; background: rgba(0, 0, 0, 0.75); display: flex;
    align-items: center; justify-content: center;
    transition: opacity 0.5s ease-out, visibility 0.5s ease-out; 
    opacity: 1; visibility: visible;
}
#preloader.hidden { opacity: 0; visibility: hidden; }
.spinner {
    border: 6px solid rgba(255, 255, 255, 0.2); 
    border-top: 6px solid var(--zaar-golden);
    border-radius: 50%; width: 60px; height: 60px;
    animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Basic Reset & Global Styles */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: var(--background-main); color: var(--text-primary);
    line-height: 1.65; 
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale; font-weight: 400; 
}
body.panel-open { overflow: hidden; } 

.dashboard-container { display: flex; flex-direction: column; min-height: 100vh; }
a { text-decoration: none; color: var(--zaar-deep-bronze); transition: color 0.2s ease-in-out; }
a:hover { color: var(--zaar-golden); } 



.main-navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    background-color: var(--background-content);
    border-radius: 12px;
    /* Enhanced shadow and added margin on all sides */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); 
    margin: 20px; 
}

.navbar-left {
    display: flex;
    align-items: center;
    gap: 0; /* Let margin on separator handle spacing */
}

.navbar-left .zaar-logo img, 
.navbar-left .partner-logo img {
    height: 35px;
    object-fit: contain;
}

.logo-separator {
    width: 1px;
    height: 28px;
    background-color: var(--border-light);
    margin: 0 20px;
}

.navbar-right {
    display: flex;
    align-items: center;
    gap: 25px;
}

.navbar-right .nav-link {
    font-size: 0.9em;
    color: var(--text-secondary);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: color 0.2s ease;
}

.navbar-right .nav-link:hover {
    color: var(--zaar-deep-bronze);
}

.navbar-right .nav-btn {
    padding: 10px 20px;
    font-size: 0.9em;
    font-weight: 600;
}

/* Responsive Adjustments for the new Navbar */
@media (max-width: 768px) {
    .main-navbar {
        flex-direction: column;
        gap: 15px;
        padding: 20px;
        margin: 15px; /* Adjust margin for smaller screens */
    }
    .navbar-left, .navbar-right {
        width: 100%;
    }
    .navbar-left {
        justify-content: center; /* Center logos on smaller screens */
    }
    .navbar-right {
        justify-content: space-around; /* Space out actions */
    }
}

@media (max-width: 480px) {
    .navbar-right .nav-link span {
        display: none; /* Hide text on very small screens, keep icon */
    }
    .navbar-right {
        justify-content: center;
    }
    .navbar-right .nav-btn {
        padding: 8px 15px; /* Smaller button */
    }
}

/* Top Bar Styles */
.top-bar {
    background-color: var(--background-content); padding: 12px 30px; display: flex;
    justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-light);
    box-shadow: var(--shadow-minimal); height: 70px; position: sticky; top: 0; z-index: 1000;
}
.logo-section { display: flex; align-items: center; gap: 0; }
.zaar-logo img, .partner-logo img { height: 35px; object-fit: contain; }
.zaar-logo { display: flex; align-items: center; } 
.logo-separator {
    width: 1px;
    height: 28px; 
    background-color: var(--border-light);
    margin: 0 20px; 
}
.partner-logo { display: flex; align-items: center; } 
.user-options { display: flex; align-items: center; gap: 25px; }
.nav-link { font-size: 0.9em; color: var(--zaar-deep-bronze); display: flex; align-items: center; font-weight: 500; }
.nav-link i { margin-right: 8px; font-size: 1.1em; color: var(--zaar-deep-bronze); }
.nav-link:hover, .nav-link:hover i { color: var(--zaar-golden); } 

/* Main Content Area Styles */
.main-content { flex-grow: 1; padding: 35px; }
.dashboard-section {
    margin-bottom: 45px; 
}
.dashboard-section:last-child { margin-bottom: 0; }
.section-title { 
    font-size: 1.8em; 
    margin-bottom: 30px; 
    color: var(--zaar-deep-bronze); 
    font-weight: 700; 
    padding-bottom: 12px; 
    border-bottom: 1px solid var(--border-light); 
}

/* Analytics Cards Styles */
.analytics-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 30px; }
.card {
    background-color: var(--background-content); border-radius: 10px; padding: 25px; box-shadow: var(--shadow-soft);
    display: flex; flex-direction: column; transition: transform 0.25s ease, box-shadow 0.25s ease; overflow: hidden;
}
.card:hover { transform: translateY(-6px); box-shadow: var(--shadow-hover); } 
.card-content-wrapper { display: flex; flex-direction: column; width: 100%; }
.card-header { display: flex; align-items: center; margin-bottom: 15px; }
.card-icon {
    font-size: 1.6em; 
    margin-right: 15px; color: var(--zaar-deep-bronze);
    width: 35px; text-align: center;
}
.card-title { font-size: 1em; color: var(--text-secondary); font-weight: 500; }
.card .metric { font-size: 2.4em; font-weight: 700; color: var(--zaar-deep-bronze); margin-bottom: 5px; line-height: 1.1; }
.card-subtitle { font-size: 0.9em; color: var(--text-muted); }

/* Recent Posts Table Section Styles */
.recent-posts-container {
    background-color: var(--background-content); border-radius: 10px;
    box-shadow: var(--shadow-soft); padding: 20px 30px 30px 30px; overflow-x: auto;
}
.recent-posts-header, .recent-post-row {
    display: flex; align-items: center; padding: 18px 0;
    border-bottom: 1px solid var(--border-table-row);
}
.recent-posts-header {
    font-weight: 600; color: var(--text-secondary); font-size: 0.9em;
    text-transform: uppercase; letter-spacing: 0.5px;
    padding-bottom: 15px; margin-bottom: 8px;
}
.recent-posts-body .recent-post-row:last-child { border-bottom: none; }
.recent-posts-body .recent-post-row:hover { background-color: #f8f9fa; cursor: pointer; }
.header-cell, .post-cell { padding: 0 15px; text-align: left; white-space: nowrap; }
.post-info-header, .post-info-cell {
    flex: 3; display: flex; align-items: center; gap: 18px; min-width: 300px;
}
.metric-header { flex: 1; text-align: right; min-width: 95px; }
.metric-cell {
    flex: 1; min-width: 95px; display: flex; align-items: center;
    justify-content: flex-end; 
}
.post-thumbnail-table {
    width: 50px; height: 50px; border-radius: 8px; object-fit: cover; flex-shrink: 0;
}
.post-title-table {
    font-size: 1.05em; font-weight: 500; color: var(--text-primary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 250px;
}
.post-title-table:hover { white-space: normal; overflow: visible; max-width: none; }
.metric-cell .metric-value { font-weight: 500; color: var(--text-primary); font-size: 1em; }
.empty-posts-message { padding: 25px; text-align: center; color: var(--text-muted); font-style: italic; font-size: 1em; }

/* Performance Spotlight Section Styles */
.spotlight-categories-container {
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
    gap: 30px; 
}
.spotlight-category {
    background-color: var(--background-content); 
    border-radius: 10px;
    padding: 25px;
    box-shadow: var(--shadow-soft);
    display: flex;
    flex-direction: column;
}
.spotlight-category-title {
    font-size: 1.25em; 
    font-weight: 600;
    color: var(--zaar-deep-bronze); 
    margin-bottom: 20px; 
    padding-bottom: 12px;
    border-bottom: 1px solid var(--border-light);
}
.spotlight-posts-list { 
    display: flex;
    flex-direction: column;
    gap: 18px; 
}
.spotlight-card { 
    background-color: var(--background-content); 
    border: 1px solid var(--border-table-row); 
    border-left: 4px solid var(--zaar-deep-bronze); 
    border-radius: 8px; 
    padding: 18px; 
    box-shadow: var(--shadow-minimal); 
    display: flex;
    flex-direction: column;
    gap: 12px; 
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.spotlight-card:hover {
    transform: translateY(-5px); 
    box-shadow: var(--shadow-hover); 
}
.spotlight-post-info {
    display: flex;
    align-items: center;
    gap: 15px; 
    cursor: pointer; 
    transition: opacity 0.2s ease;
}
.spotlight-post-info:hover {
    opacity: 0.8;
}
.spotlight-post-info img {
    width: 45px; 
    height: 45px;
    object-fit: cover;
    border-radius: 6px; 
    flex-shrink: 0;
}
.spotlight-post-title {
    font-size: 0.95em; 
    font-weight: 500;
    color: var(--text-primary);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}
.spotlight-metric {
    font-size: 0.95em; 
    font-weight: 600;
    color: var(--zaar-deep-bronze); 
    margin-top: auto; 
    padding-top: 10px; 
    text-align: right;
    border-top: 1px dashed var(--border-light); 
}


.fas .fa-heart{
    display: none;
}
.spotlight-metric .fas {
    display: inline;
    margin-right: 6px; 
    color: var(--zaar-deep-bronze); 
}

/* Footer Styles */
.dashboard-footer {
    text-align: left; 
    padding: 20px 30px; 
    font-size: 0.85em; 
    color: var(--text-muted);
    border-top: 1px solid var(--border-light);
    background-color: var(--background-content);
    margin-top: auto; 
}

/* Modal Styles - Enhanced */
.modal {
    display: none; position: fixed; left: 0; top: 0;
    width: 100%; height: 100%; overflow: hidden; 
    background-color: var(--modal-overlay-color);
    align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.3s ease-in-out; 
}
.modal.active { display: flex; opacity: 1; }

.modal-content {
    background-color: var(--background-content); margin: auto; padding: 35px; 
    border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
    position: relative; width: 90%; max-width: 900px; max-height: 90vh; 
    display: flex; flex-direction: column; transform: scale(0.95); 
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out; 
}
#postDetailModal { z-index: 1070; } 
.product-select-modal { z-index: 1060; } 
.drafts-modal { z-index: 1050; } 


.modal.active .modal-content { transform: scale(1); }
.modal-close-btn {
    color: var(--text-muted); position: absolute; top: 18px; right: 18px; 
    font-size: 26px; font-weight: bold; background: none; border: none;
    cursor: pointer; line-height: 1; padding: 8px; 
    transition: color 0.2s ease, transform 0.2s ease;
}
.modal-close-btn:hover, .modal-close-btn:focus { color: var(--text-primary); transform: scale(1.1); }
.modal-body { display: flex; gap: 30px; overflow: hidden; flex-grow: 1; }
.modal-media-container {
    flex: 1.3; min-width: 0; 
    display: flex; align-items: center; justify-content: center;
    background-color: #f0f2f5; border-radius: 8px; overflow: hidden; 
}
.modal-media-container img, .modal-media-container video {
    width: 100%; height: 100%; max-height: calc(85vh - 180px); 
    object-fit: contain; border-radius: 8px; 
}
.modal-details-container {
    flex: 1; display: flex; flex-direction: column; gap: 25px; 
    overflow-y: auto; padding-right: 15px; 
}
.modal-details-container::-webkit-scrollbar { width: 8px; } 
.modal-details-container::-webkit-scrollbar-track { background: #e8ecef; border-radius: 4px;}
.modal-details-container::-webkit-scrollbar-thumb { background: #bdc3c7; border-radius: 4px;}
.modal-details-container::-webkit-scrollbar-thumb:hover { background: #95a5a6; }

.modal-section-title { 
    font-size: 1.25em; color: var(--zaar-deep-bronze); margin-bottom: 15px; font-weight: 600;
    padding-bottom: 10px; border-bottom: 1px solid var(--border-light); 
}
.modal-caption-text { font-size: 0.95em; line-height: 1.75; color: var(--text-secondary); white-space: pre-wrap; }
.modal-products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 18px; } 
.modal-product-card {
    background-color: var(--background-content); border: 1px solid var(--border-light);
    border-radius: 8px; padding: 0; font-size: 0.9em; box-shadow: var(--shadow-minimal);
    display: flex; flex-direction: column; transition: box-shadow 0.2s ease, transform 0.2s ease;
    overflow: hidden; 
}
.modal-product-card:hover { box-shadow: var(--shadow-hover); transform: translateY(-4px); }
.modal-product-card .product-image-wrapper {
    width: 100%; padding-top: 100%; position: relative; background-color: #f8f9fa;
}
.modal-product-card img {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; 
}
.modal-product-card .product-details-content {
    padding: 15px; display: flex; flex-direction: column; flex-grow: 1; text-align: left;
}
.modal-product-card .product-brand { 
    font-size: 0.8em; color: var(--text-muted); text-transform: uppercase;
    margin-bottom: 5px; font-weight: 600; letter-spacing: 0.5px;
}
.modal-product-card .product-name {
    font-weight: 600; color: var(--text-primary); margin-bottom: 8px; font-size: 1em;
    line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2;
    -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; min-height: 2.8em; 
}
.modal-product-card .product-price-container {
    margin-bottom: 15px; display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; 
}
.modal-product-card .product-current-price {
    color: var(--text-primary); font-weight: 700; font-size: 1.1em; 
}
.modal-product-card .product-original-price {
    color: var(--text-muted); text-decoration: line-through; font-size: 0.9em;
}
.modal-product-card .product-discount {
    background-color: var(--discount-color); color: white; font-size: 0.75em; 
    font-weight: 700; padding: 3px 8px; border-radius: 4px; margin-left: auto; 
}
.modal-product-card .product-link {
    display: block; font-size: 0.95em; padding: 10px 12px; 
    background-color: var(--zaar-deep-bronze); color: white;
    border-radius: 6px; text-decoration: none; text-align: center;
    font-weight: 600; transition: background-color 0.2s ease, transform 0.1s ease;
    margin-top: auto; border: 1px solid var(--zaar-deep-bronze);
}
.modal-product-card .product-link:hover {
    background-color: var(--background-content);
    color: var(--zaar-deep-bronze);
    border: 1px solid var(--zaar-deep-bronze);
}
.modal-product-card .product-link:active { transform: scale(0.98); }

/* Floating Action Button (FAB) Styles */
.fab-container {
    position: fixed; bottom: 30px; right: 30px; z-index: 1030; 
    display: flex; flex-direction: column-reverse; align-items: center;
}
.fab-main-btn {
    background-color: var(--zaar-deep-bronze); color: white; border: none;
    width: 60px; height: 60px; border-radius: 50%; box-shadow: var(--shadow-fab);
    font-size: 24px; display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: transform 0.2s ease-in-out, background-color 0.2s ease;
    z-index: 2; 
}
.fab-main-btn:hover {
    background-color: var(--zaar-golden); color: var(--text-primary); transform: scale(1.1);
}
.fab-main-btn.active .fa-plus { transform: rotate(45deg); }
.fab-actions {
    display: flex; flex-direction: column-reverse; align-items: center;
    margin-bottom: 15px; transition: all 0.3s ease-in-out;
    pointer-events: none; opacity: 0; transform: translateY(10px); 
}
.fab-container.active .fab-actions { pointer-events: auto; opacity: 1; transform: translateY(0); }
.fab-action-item {
    background-color: var(--background-content); color: var(--zaar-deep-bronze);
    border: 1px solid var(--border-light); width: 48px; height: 48px;
    border-radius: 50%; box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    font-size: 18px; display: flex; align-items: center; justify-content: center;
    cursor: pointer; margin-bottom: 12px; 
    transition: transform 0.2s ease-in-out, background-color 0.2s ease, color 0.2s ease, opacity 0.3s ease;
    position: relative; opacity: 0; transform: scale(0.8) translateY(10px);
}
.fab-container.active .fab-action-item { opacity: 1; transform: scale(1) translateY(0); }
.fab-container.active .fab-action-item:nth-child(1) { transition-delay: 0.05s; }
.fab-container.active .fab-action-item:nth-child(2) { transition-delay: 0.1s; }
.fab-container.active .fab-action-item:nth-child(3) { transition-delay: 0.15s; }
.fab-container.active .fab-action-item:nth-child(4) { transition-delay: 0.2s; }
.fab-container.active .fab-action-item:nth-child(5) { transition-delay: 0.25s; } 
.fab-action-item:hover {
    background-color: var(--zaar-deep-bronze); color: white; transform: scale(1.1);
}
.fab-action-item:hover span {
    opacity: 1; visibility: visible; transform: translateX(-10px) translateY(-50%);
}
.fab-action-item span {
    position: absolute; right: 100%; margin-right: 12px; top: 50%;
    transform: translateY(-50%); background-color: var(--text-primary);
    color: white; padding: 5px 10px; border-radius: 4px; font-size: 0.85em;
    white-space: nowrap; box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    opacity: 0; visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
    pointer-events: none; 
}

/* Upload Post Panel Styles */
.upload-panel {
    position: fixed;
    top: 0;
    right: 0; 
    width: var(--upload-panel-width-desktop);
    max-width: var(--upload-panel-max-width);
    height: 100vh;
    background-color: var(--background-content); 
    box-shadow: -8px 0 25px rgba(0,0,0,0.1); 
    z-index: 1045; 
    transform: translateX(100%); 
    transition: transform 0.45s cubic-bezier(0.25, 0.8, 0.25, 1); 
    display: flex; 
    flex-direction: column; 
    overflow: hidden;
}
.upload-panel.active {
    transform: translateX(0); 
}
.panel-overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(44, 62, 80, 0.6); 
    z-index: 1040; 
    opacity: 0; visibility: hidden;
    transition: opacity 0.4s ease, visibility 0s 0.4s;
}
.panel-overlay.active { opacity: 1; visibility: visible; transition: opacity 0.4s ease, visibility 0s 0s; }

.panel-content-wrapper { 
    width: 100%; 
    height: 100%;
    display: flex;
    flex-direction: column;
}

.panel-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 20px 30px; border-bottom: 1px solid var(--border-light);
    background-color: var(--background-content); 
    flex-shrink: 0; 
}
.panel-header h2 {
    font-size: 1.6em; color: var(--zaar-deep-bronze); font-weight: 600; margin: 0;
}
.panel-close-btn {
    font-size: 28px; color: var(--text-muted); background: none;
    border: none; cursor: pointer; padding: 5px; line-height: 1;
}
.panel-close-btn:hover { color: var(--text-primary); }
.panel-body {
    padding: 30px; overflow-y: auto; flex-grow: 1;
    min-height: 0; 
}
.panel-body::-webkit-scrollbar { width: 8px; }
.panel-body::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px;}
.panel-body::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px;}
.panel-body::-webkit-scrollbar-thumb:hover { background: #aaa; }

.form-section { margin-bottom: 30px; } 
.form-section-title {
    display: block; font-size: 1.15em; font-weight: 600;
    color: var(--zaar-deep-bronze); margin-bottom: 18px; 
    padding-bottom: 8px; border-bottom: 1px solid var(--border-table-row);
}
.media-type-selector { display: flex; gap: 12px; margin-bottom: 25px; }
.media-type-btn {
    flex: 1; padding: 12px 18px; border: 2px solid var(--border-light); 
    background-color: var(--background-content); color: var(--text-secondary);
    border-radius: 8px; cursor: pointer; font-weight: 500;
    display: flex; align-items: center; justify-content: center; gap: 10px; 
    transition: background-color 0.2s, border-color 0.2s, color 0.2s, box-shadow 0.2s;
}
.media-type-btn:hover {
    border-color: var(--zaar-deep-bronze); color: var(--zaar-deep-bronze);
    box-shadow: 0 2px 5px rgba(187, 153, 53, 0.1);
}
.media-type-btn.active {
    background-color: var(--zaar-deep-bronze); color: white;
    border-color: var(--zaar-deep-bronze); box-shadow: 0 4px 8px rgba(187, 153, 53, 0.2);
}
.media-type-btn.active i { color: white; }

.file-upload-area {
    border: 2px dashed var(--border-light); border-radius: 8px; padding: 35px; 
    text-align: center; cursor: pointer; transition: border-color 0.2s, background-color 0.2s;
    background-color: #fdfdfd;
}
.file-upload-area:hover, .file-upload-area.dragover {
    border-color: var(--zaar-deep-bronze); background-color: rgba(187, 153, 53, 0.05);
}
.file-upload-area i { font-size: 3em; color: var(--zaar-deep-bronze); margin-bottom: 12px; }
.file-upload-area p { color: var(--text-muted); font-size: 1em; }
.file-upload-area .browse-link { color: var(--zaar-deep-bronze); font-weight: 500; text-decoration: underline; }
#postMediaFile { display: none; } 

.media-preview-grid {
    margin-top: 20px; display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); 
    gap: 12px;
}
.media-preview-item {
    position: relative; border: 1px solid var(--border-light);
    border-radius: 8px; overflow: hidden; padding-top: 100%; 
    background-color: #f0f0f0;
}
.media-preview-item img, .media-preview-item video {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;
}
.media-preview-item .remove-media-btn {
    position: absolute; top: 6px; right: 6px; background-color: rgba(0,0,0,0.7);
    color: white; border: none; border-radius: 50%; width: 26px; height: 26px;
    font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center;
    line-height: 1; transition: background-color 0.2s;
}
.media-preview-item .remove-media-btn:hover { background-color: var(--zaar-bold-red); }

textarea#postCaption { 
    width: 100%;
    padding: 12px 15px;
    border: 1px solid var(--border-light);
    border-radius: 6px;
    font-size: 1em;
    color: var(--text-primary);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    line-height: 1.5; 
    min-height: 120px;
    resize: vertical;
}
textarea#postCaption:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 3px rgba(187, 153, 53, 0.15);
}

.tags-input-container { 
    display: flex; 
    align-items: center; 
    border: 1px solid var(--border-light); 
    border-radius: 6px; 
    padding: 0; 
}
#postTagsInput { 
    border: none; outline: none; flex-grow: 1; padding: 12px 15px; 
    font-size: 1em; min-width: 150px; 
    background: transparent; 
}
.tags-input-container:focus-within { 
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 3px rgba(187, 153, 53, 0.15);
}

.tags-display { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 8px;
    margin-top: 10px; 
    padding: 0 2px; 
}
.tag-item {
    background-color: var(--zaar-deep-bronze); color: white;
    padding: 6px 12px; border-radius: 18px; 
    font-size: 0.9em; display: inline-flex; align-items: center;
    gap: 8px; 
    transition: background-color 0.2s;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.tag-item .remove-tag { 
    cursor: pointer; font-size: 1em; opacity: 0.8;
    background: none; border: none; color: white; padding: 0; line-height: 1;
}
.tag-item .remove-tag:hover { opacity: 1; }

.selected-products-preview {
    margin-top: 15px; padding: 15px; background-color: #f8f9fa;
    border-radius: 6px; min-height: 60px; border: 1px solid var(--border-table-row);
}
.selected-products-preview .no-products-message { color: var(--text-muted); font-style: italic; }
.selected-product-item {
    display: flex; align-items: center; gap: 12px; padding: 10px; 
    border-bottom: 1px solid var(--border-table-row); font-size: 0.95em;
    background-color: var(--background-content); border-radius: 6px; margin-bottom: 8px;
    box-shadow: var(--shadow-minimal);
}
.selected-product-item:last-child { border-bottom: none; }
.selected-product-item img { width: 40px; height: 40px; border-radius: 4px; object-fit: cover; }
.selected-product-item .remove-selected-product {
    margin-left: auto; color: var(--zaar-bold-red); cursor: pointer; font-size: 1.1em;
    background: none; border: none; padding: 5px;
}
.selected-product-item .remove-selected-product:hover { color: darkred; }


.panel-actions {
    margin-top: 0; 
    padding: 25px 30px; 
    border-top: 1px solid var(--border-light);
    display: flex; gap: 12px; justify-content: space-between; 
    background-color: var(--background-main); 
    flex-shrink: 0; 
}
.panel-actions > div { display: flex; gap: 12px; }
.btn {
    padding: 12px 22px; 
    border-radius: 6px; font-size: 0.95em; font-weight: 600; 
    cursor: pointer; transition: all 0.2s ease; border: 1px solid transparent;
    display: inline-flex; align-items: center; gap: 8px;
}
.btn i { font-size: 0.9em; }
.btn-primary {
    background-color: var(--zaar-deep-bronze); color: white; border-color: var(--zaar-deep-bronze);
}
.btn-primary:hover {
    background-color: var(--zaar-golden); border-color: var(--zaar-golden); color: var(--text-primary);
}
.btn-secondary {
    background-color: var(--background-content); color: var(--zaar-deep-bronze); border-color: var(--zaar-deep-bronze);
}
.btn-secondary:hover { background-color: #f8f9fa; }
.btn-outline { 
    background-color: transparent; color: var(--zaar-deep-bronze);
    border: 1px solid var(--zaar-deep-bronze); padding: 10px 15px;
}
.btn-outline:hover { background-color: rgba(187, 153, 53, 0.05); }
.btn-link { background: none; border: none; color: var(--text-muted); padding: 10px; }
.btn-link:hover { color: var(--zaar-deep-bronze); text-decoration: underline; }
.btn:active { transform: scale(0.98); }

/* Product Selection Modal Styles */
.product-select-modal.modal .modal-content { 
    max-width: 600px; 
    height: 80vh; 
}
.product-select-modal-content { padding: 0; display: flex; flex-direction: column; }
.product-select-modal-content .modal-header {
    padding: 18px 25px; border-bottom: 1px solid var(--border-light);
    display: flex; justify-content: space-between; align-items: center;
    flex-shrink: 0;
}
.product-select-modal-content .modal-title { font-size: 1.3em; color: var(--zaar-deep-bronze); margin: 0; }
.product-select-modal-content .product-modal-close-btn { position: static; padding: 0; font-size: 26px; }

.product-select-modal-body { 
    padding: 20px 25px;
    overflow: hidden; 
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}
.product-search-bar { 
    position: relative; 
    margin-bottom: 15px; 
    flex-shrink: 0;
}
.product-search-bar input {
    width: 100%; padding: 12px 15px 12px 40px; 
    border: 1px solid var(--border-light); border-radius: 6px; font-size: 1em;
}
.product-search-bar .search-icon-input { 
    position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
    color: var(--text-muted); font-size: 1em; 
}

.product-list-scroll-container { 
    flex-grow: 1;
    overflow-y: auto;
    border: 1px solid var(--border-table-row);
    border-radius: 6px;
    background-color: #fdfdfd; 
}
.product-list-scroll-container::-webkit-scrollbar { width: 6px; }
.product-list-scroll-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px;}
.product-list-scroll-container::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px;}
.product-list-scroll-container::-webkit-scrollbar-thumb:hover { background: #aaa; }

.product-list { 
    display: flex; flex-direction: column; gap: 0; 
}
.product-list-item { 
    display: flex; align-items: center; padding: 12px 15px;
    border-bottom: 1px solid var(--border-table-row); cursor: pointer;
    transition: background-color 0.2s ease; position: relative;
}
.product-list-item:last-child { border-bottom: none; }
.product-list-item:hover { background-color: #f0f2f5; } 
.product-list-item.selected { background-color: rgba(187, 153, 53, 0.1); }

.product-list-item .item-thumbnail { 
    width: 45px; height: 45px; object-fit: cover; 
    margin-right: 15px; border-radius: 6px; 
    background-color: #f8f9fa; flex-shrink: 0;
}
.product-list-item .item-info {
    display: flex; flex-direction: column; text-align: left;
    flex-grow: 1; overflow: hidden; 
}
.product-list-item .item-name {
    font-size: 0.95em; font-weight: 500; color: var(--text-primary);
    margin-bottom: 2px; white-space: nowrap;
    overflow: hidden; text-overflow: ellipsis;
}
.product-list-item .item-brand {
    font-size: 0.8em; color: var(--text-muted); margin-bottom: 2px;
}
.product-list-item .item-price { 
    font-size: 0.9em; color: var(--zaar-deep-bronze); font-weight: 600; 
}
.product-list-item .selection-checkmark {
    margin-left: 15px; 
    width: 22px; height: 22px;
    background-color: var(--zaar-deep-bronze); color: white; border-radius: 50%;
    display: none; align-items: center; justify-content: center;
    font-size: 11px; box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    flex-shrink: 0;
}
.product-list-item.selected .selection-checkmark { display: flex; }

.product-select-modal-footer {
    padding: 20px 25px; border-top: 1px solid var(--border-light);
    display: flex; justify-content: flex-end; gap: 15px;
    background-color: #f8f9fa; flex-shrink: 0;
}

/* View Drafts Modal Styles */
.drafts-modal.modal .modal-content {
    max-width: 700px; 
    max-height: 80vh; 
    /* Animations inherited from .modal and .modal-content */
}
.drafts-modal-content { padding: 0; display: flex; flex-direction: column; }
.drafts-modal-content .modal-header {
    padding: 18px 25px;
    border-bottom: 1px solid var(--border-light);
    display: flex; justify-content: space-between; align-items: center;
    flex-shrink: 0;
}
.drafts-modal-content .modal-title { font-size: 1.3em; color: var(--zaar-deep-bronze); margin: 0; }
.drafts-modal-content .drafts-modal-close-btn { position: static; padding: 0; font-size: 26px; }

.drafts-modal-body {
    padding: 0; 
    overflow-y: auto; 
    flex-grow: 1;
}
.drafts-modal-body::-webkit-scrollbar { width: 6px; }
.drafts-modal-body::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px;}
.drafts-modal-body::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px;}
.drafts-modal-body::-webkit-scrollbar-thumb:hover { background: #aaa; }

.drafts-list-container {
    display: flex;
    flex-direction: column;
}
.draft-list-item {
    display: flex;
    align-items: center;
    padding: 15px 25px;
    border-bottom: 1px solid var(--border-table-row);
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.draft-list-item:last-child { border-bottom: none; }
.draft-list-item:hover { background-color: #f8f9fa; }
.draft-list-item .item-thumbnail { 
    width: 45px; height: 45px; object-fit: cover;
    margin-right: 15px; border-radius: 6px;
    background-color: #f0f2f5; flex-shrink: 0;
}
.draft-list-item .item-info {
    display: flex; flex-direction: column; text-align: left;
    flex-grow: 1; overflow: hidden;
}
.draft-list-item .item-name { 
    font-size: 1em; font-weight: 500; color: var(--text-primary);
    margin-bottom: 2px; white-space: nowrap;
    overflow: hidden; text-overflow: ellipsis;
}
.draft-list-item .item-brand { 
    font-size: 0.85em; color: var(--text-muted);
}
.draft-list-item .fa-chevron-right {
    margin-left: auto;
    color: var(--text-muted);
    font-size: 0.9em;
}


/* Responsive Adjustments */
@media (max-width: 1024px) {
    .analytics-cards { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
    .post-info-header, .post-info-cell { min-width: 220px; }
    .metric-header, .metric-cell { min-width: 75px; }
    .post-title-table { max-width: 180px; }
    .spotlight-categories-container { grid-template-columns: 1fr; } 
    :root { --upload-panel-width-desktop: 85vw; }
}

@media (max-width: 768px) { /* Tablet */
    .top-bar { flex-direction: column; align-items: flex-start; height: auto; padding: 15px; gap: 10px; }
    .logo-section { width: 100%; justify-content: space-between; gap: 15px; }
    .partner-logo { margin-left: 0; padding-left: 0; border-left: none; }
    .user-options { width: 100%; justify-content: flex-start; gap: 15px; }
    .nav-link { margin-left: 0; }

    .main-content { padding: 20px; }
    .section-title { font-size: 1.5em; }
    .analytics-cards { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .card .metric { font-size: 1.8em; }

    .recent-posts-header { display: none; }
    .recent-post-row { flex-direction: column; align-items: stretch; padding: 15px; }
    .post-info-cell { width: 100%; margin-bottom: 12px; min-width: 0; gap: 10px; }
    .post-thumbnail-table { width: 50px; height: 50px; }
    .post-title-table { white-space: normal; overflow: visible; max-width: 100%; font-size: 1.05em; }

    .metric-cell {
        width: 100%; padding: 6px 0; min-width: 0; display: flex; align-items: center;
        justify-content: flex-start; border-top: 1px solid var(--border-table-row); gap: 8px;
    }
    .metric-cell:first-of-type { border-top: none; margin-top: 10px; }
    .metric-cell::before {
        content: attr(data-label); font-weight: 500; color: var(--text-secondary);
        font-size: 0.9em; flex-shrink: 0; width: 70px;
    }
    .metric-cell .metric-value { font-weight: 600; color: var(--text-primary); margin-left: auto; }

    .modal-content { width: 95%; padding: 20px; max-height: 85vh;}
    .modal-body { flex-direction: column; } 
    .modal-media-container { flex: 1; min-width: auto; max-height: 250px; } 
    .modal-details-container { padding-right: 0; }
    .modal-products-grid { grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); } 
    .modal-product-card .product-image-wrapper { padding-top: 100%; }
    .modal-product-card .product-name { font-size: 0.9em; min-height: 2.4em; }
    .modal-product-card .product-current-price { font-size: 1em; }

    .fab-container { bottom: 20px; right: 20px; }
    .fab-main-btn { width: 56px; height: 56px; font-size: 22px;}
    .fab-action-item { width: 44px; height: 44px; font-size: 16px; margin-bottom: 10px;}
    .fab-action-item span { display: none; } 
    .fab-container.active .fab-action-item:hover span { display: none; } 

    .upload-panel .panel-content-wrapper { width: 95vw; max-width: 95vw; } 
    .panel-actions { flex-direction: column; gap: 12px; }
    .panel-actions .btn { width: 100%; }
    .product-select-modal-content { max-width: 90vw; }
    /* .product-list-container { grid-template-columns: 1fr; } */ /* Already flex column */
}

@media (max-width: 480px) { /* Mobile */
    .main-content { padding: 15px; }
    .analytics-cards { grid-template-columns: 1fr; }
    .card { padding: 15px; }
    .card-icon { font-size: 1.3em; }
    .card-title { font-size: 0.85em; }
    .card .metric { font-size: 1.7em; }

    .post-info-header, .post-info-cell { min-width: 0; }
    .section-title { font-size: 1.4em; }
    .post-title-table { font-size: 1em; }
    .metric-cell { padding: 8px 0; }
    .metric-cell::before { font-size: 0.85em; width: 60px; }
    .modal-media-container { max-height: 200px; }
    .modal-products-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
    .dashboard-footer { text-align: center; padding: 15px; } 
    .upload-panel .panel-content-wrapper { width: 100vw; max-width: 100vw; box-shadow: none; } 
    .panel-body { padding: 20px; }
    .file-upload-area { padding: 20px; }
    /* .product-list-container { grid-template-columns: 1fr; } */ /* Already flex column */
}







/* VIEW POSTS CSS */

.manage-posts-section .section-title {
    margin-bottom: 20px; 
}

.posts-filter-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    padding: 15px 20px;
    background-color: var(--background-content);
    border-radius: 8px;
    box-shadow: var(--shadow-minimal);
    margin-bottom: 25px;
    flex-wrap: wrap; 
}

.search-container {
    position: relative;
    display: flex;
    align-items: center;
    flex-grow: 1; 
    min-width: 250px; 
}

.search-icon-table {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
}

.search-input-table {
    width: 100%;
    padding: 10px 12px 10px 35px; 
    border: 1px solid var(--border-light);
    border-radius: 6px;
    font-size: 0.95em;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.search-input-table:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 2px rgba(187, 153, 53, 0.2);
}

.filter-actions {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap; 
}

.filter-select {
    padding: 10px 12px;
    border: 1px solid var(--border-light);
    border-radius: 6px;
    background-color: var(--background-content);
    color: var(--text-secondary);
    font-size: 0.9em;
    cursor: pointer;
    min-width: 150px;
}
.filter-select:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
}

.posts-table-container {
    background-color: var(--background-content);
    border-radius: 8px;
    box-shadow: var(--shadow-soft);
    overflow-x: auto; 
}

.posts-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}

.posts-table th, .posts-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--border-table-row);
    vertical-align: middle;
}

.posts-table th {
    background-color: #f8f9fa; 
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    font-size: 0.85em;
    letter-spacing: 0.5px;
}
.posts-table th.metric-col, .posts-table td.metric-col {
    text-align: right;
}

.posts-table tbody tr:hover {
    background-color: #fdfdfd; 
}

.posts-table .col-thumbnail img {
    width: 45px;
    height: 45px;
    object-fit: cover;
    border-radius: 6px;
}
.posts-table .col-title {
    max-width: 300px; 
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.posts-table .col-title:hover {
    white-space: normal;
    overflow: visible;
}

.post-status {
    padding: 4px 8px;
    border-radius: 15px; 
    font-size: 0.8em;
    font-weight: 500;
    text-transform: capitalize;
    display: inline-block;
    min-width: 70px;
    text-align: center;
}
.post-status.published { background-color: rgba(46, 204, 113, 0.15); color: #27ae60; } 
.post-status.draft { background-color: rgba(243, 156, 18, 0.15); color: #f39c12; } 
.post-status.scheduled { background-color: rgba(52, 152, 219, 0.15); color: #3498db; } 

.posts-table .col-actions .action-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 1.1em;
    padding: 5px;
    margin: 0 3px;
    transition: color 0.2s ease;
}
.posts-table .col-actions .action-btn:hover {
    color: var(--zaar-deep-bronze);
}
.posts-table .col-actions .action-btn.delete:hover {
    color: var(--zaar-bold-red);
}

.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px 0;
    margin-top: 20px;
    gap: 8px;
}
.pagination-controls .page-btn, .pagination-controls .page-info {
    padding: 8px 12px;
    border: 1px solid var(--border-light);
    background-color: var(--background-content);
    color: var(--text-secondary);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9em;
    transition: background-color 0.2s, color 0.2s, border-color 0.2s;
}
.pagination-controls .page-btn:hover:not(:disabled) {
    background-color: var(--zaar-deep-bronze);
    color: white;
    border-color: var(--zaar-deep-bronze);
}
.pagination-controls .page-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}
.pagination-controls .page-info {
    cursor: default;
    background-color: transparent;
    border: none;
}

/* Filter Modal Styles */
.filter-modal.modal .modal-content {
    max-width: 550px; /* Adjusted width */
    max-height: 85vh;
}
.filter-modal-content { padding: 0; display: flex; flex-direction: column; }
.filter-modal-content .modal-header {
    padding: 20px 25px; /* Increased padding */
    border-bottom: 1px solid var(--border-light);
    display: flex; justify-content: space-between; align-items: center;
    flex-shrink: 0;
}
.filter-modal-content .modal-title { font-size: 1.4em; color: var(--zaar-deep-bronze); margin: 0; }
.filter-modal-content .filter-modal-close-btn { position: static; padding: 0; font-size: 26px; }

.filter-modal .modal-body {
    padding: 25px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 25px; /* Increased gap between filter groups */
}
.filter-group {
    margin-bottom: 10px; /* Reduced margin as gap is used on parent */
}
.filter-group h4 {
    font-size: 1.05em; /* Slightly larger */
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 12px; /* Increased margin */
}
.form-group-inline {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px; /* Increased margin */
}
.form-group-inline label {
    font-size: 0.9em;
    color: var(--text-secondary);
    min-width: 90px; /* Adjusted min-width */
    flex-shrink: 0;
}
.form-group-inline input[type="number"],
.form-group-inline input[type="date"],
.filter-group select {
    flex-grow: 1;
    padding: 10px 12px; /* Increased padding */
    border: 1px solid var(--border-light);
    border-radius: 6px;
    font-size: 0.95em;
    background-color: var(--background-content);
}
.filter-group select {
    cursor: pointer;
}
.form-group-inline input[type="number"]:focus,
.form-group-inline input[type="date"]:focus,
.filter-group select:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 2px rgba(187, 153, 53, 0.2);
}


.filter-modal .modal-footer {
    padding: 20px 25px; /* Increased padding */
    border-top: 1px solid var(--border-light);
    display: flex; justify-content: flex-end; gap: 12px; /* Increased gap */
    background-color: #f8f9fa; flex-shrink: 0;
}

/* Responsive adjustments for the new elements */
@media (max-width: 768px) {
    .posts-filter-bar {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
    }
    .posts-filter-bar .search-container {
        min-width: 100%;
    }
    .filter-actions {
        width: 100%;
        justify-content: space-between;
    }
    .filter-actions .filter-select, .filter-actions .btn {
        flex-grow: 1; 
        min-width: 120px; 
    }
    .posts-table { font-size: 0.85em; } 
    .posts-table th, .posts-table td { padding: 10px 8px; }
    /* .posts-table .col-thumbnail, .posts-table th:first-child { display: none; }  Keep thumbnail for mobile */
    /* .posts-table td:first-child { display: none; } */
    .posts-table .col-title { max-width: 150px; }
}

@media (max-width: 480px) {
    .filter-actions {
        flex-direction: column;
        align-items: stretch;
    }
    .filter-actions .filter-select, .filter-actions .btn {
        width: 100%;
    }
    .posts-table .col-likes, .posts-table .col-shares { display: none; } 
    .posts-table th.col-likes, .posts-table th.col-shares { display: none; }
    .filter-modal .modal-body { padding: 20px; }
    .form-group-inline { flex-direction: column; align-items: stretch; }
    .form-group-inline label { min-width: auto; margin-bottom: 5px; }
}






/* VIEW DRAFT PAGE CSS */







#preloader {
    position: fixed; left: 0; top: 0; z-index: 99999; width: 100%; height: 100%;
    overflow: visible; background: rgba(0, 0, 0, 0.75); display: flex;
    align-items: center; justify-content: center;
    transition: opacity 0.5s ease-out, visibility 0.5s ease-out; 
    opacity: 1; visibility: visible;
}
#preloader.hidden { opacity: 0; visibility: hidden; }
.spinner {
    border: 6px solid rgba(255, 255, 255, 0.2); 
    border-top: 6px solid var(--zaar-golden);
    border-radius: 50%; width: 60px; height: 60px;
    animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }


/* Styles for Drafts Page Table (if any specific needed beyond .posts-table) */
.drafts-table th.col-date, 
.drafts-table td.col-date {
    /* Potentially different width or emphasis for "Date Saved" */
}

.drafts-table .col-actions .action-btn.publish-draft-btn { /* Specific style for a potential publish button */
    color: var(--trend-up-color); /* Example color */
}
.drafts-table .col-actions .action-btn.publish-draft-btn:hover {
    color: darkgreen;
}

/* Filter Modal for Drafts - can reuse .filter-modal styles or add specifics */
/* The generic .filter-modal styles should cover this well. */
#draftFilterOptionsModal .modal-body {
    /* Any specific layout adjustments for draft filters */
}

/* Ensure consistent styling for all modals */
.modal {
    display: none; position: fixed; z-index: 1050; left: 0; top: 0;
    width: 100%; height: 100%; overflow: hidden; 
    background-color: var(--modal-overlay-color);
    align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.3s ease-in-out, visibility 0s 0.3s; 
    visibility: hidden;
}
.modal.active { 
    opacity: 1; 
    visibility: visible;
    transition: opacity 0.3s ease-in-out, visibility 0s 0s;
}
.modal-content {
    background-color: var(--background-content); margin: auto; padding: 35px; 
    border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
    position: relative; width: 90%; max-width: 900px; max-height: 90vh; 
    display: flex; flex-direction: column; transform: scale(0.95); 
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out; 
}
/* Z-index management for overlapping modals */
.drafts-modal.active .modal-content { z-index: 1050; } 
#postDetailModal.active .modal-content { z-index: 1070; } /* Main detail modal always on top */

.modal.active .modal-content { transform: scale(1); }

/* Other existing styles for .posts-filter-bar, .posts-table, .pagination-controls, etc. are assumed to be in your main style.css */
/* Ensure the following are present from previous versions or add them if missing */

.posts-filter-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    padding: 15px 20px;
    background-color: var(--background-content);
    border-radius: 8px;
    box-shadow: var(--shadow-minimal);
    margin-bottom: 25px;
    flex-wrap: wrap; 
}

.search-container {
    position: relative;
    display: flex;
    align-items: center;
    flex-grow: 1; 
    min-width: 250px; 
}

.search-icon-table {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
}

.search-input-table {
    width: 100%;
    padding: 10px 12px 10px 35px; 
    border: 1px solid var(--border-light);
    border-radius: 6px;
    font-size: 0.95em;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.search-input-table:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 2px rgba(187, 153, 53, 0.2);
}

.filter-actions {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap; 
}

.filter-select {
    padding: 10px 12px;
    border: 1px solid var(--border-light);
    border-radius: 6px;
    background-color: var(--background-content);
    color: var(--text-secondary);
    font-size: 0.9em;
    cursor: pointer;
    min-width: 150px;
}
.filter-select:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
}

.posts-table-container {
    background-color: var(--background-content);
    border-radius: 8px;
    box-shadow: var(--shadow-soft);
    overflow-x: auto; 
}

.posts-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}

.posts-table th, .posts-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid var(--border-table-row);
    vertical-align: middle;
}

.posts-table th {
    background-color: #f8f9fa; 
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    font-size: 0.85em;
    letter-spacing: 0.5px;
}
.posts-table th.metric-col, .posts-table td.metric-col {
    text-align: right;
}

.posts-table tbody tr:hover {
    background-color: #fdfdfd; 
}

.posts-table .col-thumbnail img {
    width: 45px;
    height: 45px;
    object-fit: cover;
    border-radius: 6px;
}
.posts-table .col-title {
    max-width: 300px; 
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.posts-table .col-title:hover {
    white-space: normal;
    overflow: visible;
}

.post-status {
    padding: 4px 8px;
    border-radius: 15px; 
    font-size: 0.8em;
    font-weight: 500;
    text-transform: capitalize;
    display: inline-block;
    min-width: 70px;
    text-align: center;
}
.post-status.published { background-color: rgba(46, 204, 113, 0.15); color: #27ae60; } 
.post-status.draft { background-color: rgba(243, 156, 18, 0.15); color: #f39c12; } 
.post-status.scheduled { background-color: rgba(52, 152, 219, 0.15); color: #3498db; } 

.posts-table .col-actions .action-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 1.1em;
    padding: 5px;
    margin: 0 3px;
    transition: color 0.2s ease;
}
.posts-table .col-actions .action-btn:hover {
    color: var(--zaar-deep-bronze);
}
.posts-table .col-actions .action-btn.delete:hover {
    color: var(--zaar-bold-red);
}

.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px 0;
    margin-top: 20px;
    gap: 8px;
}
.pagination-controls .page-btn, .pagination-controls .page-info {
    padding: 8px 12px;
    border: 1px solid var(--border-light);
    background-color: var(--background-content);
    color: var(--text-secondary);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9em;
    transition: background-color 0.2s, color 0.2s, border-color 0.2s;
}
.pagination-controls .page-btn:hover:not(:disabled) {
    background-color: var(--zaar-deep-bronze);
    color: white;
    border-color: var(--zaar-deep-bronze);
}
.pagination-controls .page-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}
.pagination-controls .page-info {
    cursor: default;
    background-color: transparent;
    border: none;
}

/* Filter Modal Styles */
.filter-modal.modal .modal-content {
    max-width: 550px; 
    max-height: 85vh;
}
.filter-modal-content { padding: 0; display: flex; flex-direction: column; }
.filter-modal-content .modal-header {
    padding: 20px 25px; 
    border-bottom: 1px solid var(--border-light);
    display: flex; justify-content: space-between; align-items: center;
    flex-shrink: 0;
}
.filter-modal-content .modal-title { font-size: 1.4em; color: var(--zaar-deep-bronze); margin: 0; }
.filter-modal-content .filter-modal-close-btn { position: static; padding: 0; font-size: 26px; }

.filter-modal .modal-body {
    padding: 25px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 25px; 
}
.filter-group {
    margin-bottom: 10px; 
}
.filter-group h4 {
    font-size: 1.05em; 
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 12px; 
}
.form-group-inline {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px; 
}
.form-group-inline label {
    font-size: 0.9em;
    color: var(--text-secondary);
    min-width: 90px; 
    flex-shrink: 0;
}
.form-group-inline input[type="number"],
.form-group-inline input[type="date"],
.filter-group select {
    flex-grow: 1;
    padding: 10px 12px; 
    border: 1px solid var(--border-light);
    border-radius: 6px;
    font-size: 0.95em;
    background-color: var(--background-content);
}
.filter-group select {
    cursor: pointer;
}
.form-group-inline input[type="number"]:focus,
.form-group-inline input[type="date"]:focus,
.filter-group select:focus {
    outline: none;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 0 0 2px rgba(187, 153, 53, 0.2);
}


.filter-modal .modal-footer {
    padding: 20px 25px; 
    border-top: 1px solid var(--border-light);
    display: flex; justify-content: flex-end; gap: 12px; 
    background-color: #f8f9fa; flex-shrink: 0;
}














/* VIEW ANALYTICS CSS */



.analytics-page-section .section-title {
    margin-bottom: 25px;
}

.date-range-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 30px;
    padding: 15px;
    background-color: var(--background-content);
    border-radius: 8px;
    box-shadow: var(--shadow-minimal);
}
.date-range-btn {
    padding: 8px 15px;
    font-size: 0.9em;
    font-weight: 500;
    border: 1px solid var(--border-light);
    background-color: var(--background-content);
    color: var(--text-secondary);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}
.date-range-btn:hover {
    border-color: var(--zaar-deep-bronze);
    color: var(--zaar-deep-bronze);
}
.date-range-btn.active {
    background-color: var(--zaar-deep-bronze);
    color: white;
    border-color: var(--zaar-deep-bronze);
    box-shadow: 0 2px 5px rgba(187, 153, 53, 0.2);
}

.sub-section-title {
    font-size: 1.4em;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 20px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-table-row);
}

.kpi-overview-section .kpi-cards {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Smaller KPI cards */
    gap: 20px;
}
.kpi-overview-section .card {
    padding: 20px; /* Slightly less padding for KPI cards */
}
.kpi-overview-section .card-icon {
    font-size: 1.4em;
    margin-right: 10px;
}
.kpi-overview-section .card-title-small { /* Using h4 for KPI card titles */
    font-size: 0.9em;
    color: var(--text-secondary);
    font-weight: 500;
    margin: 0;
}
.kpi-overview-section .metric {
    font-size: 1.8em; /* Adjusted metric size */
    margin-bottom: 3px;
}
.kpi-comparison {
    font-size: 0.8em;
    font-weight: 500;
}
.kpi-comparison.positive { color: var(--trend-up-color); }
.kpi-comparison.negative { color: var(--trend-down-color); }
.kpi-comparison.neutral { color: var(--text-muted); }
.kpi-comparison .fas { margin-right: 3px; }


.chart-wrapper {
    background-color: var(--background-content);
    padding: 20px;
    border-radius: 8px;
    box-shadow: var(--shadow-soft);
    height: 350px; /* Adjust as needed */
    margin-bottom: 30px;
    border: none; /* Explicitly remove border */
}
#engagementTrendChart, #contentTypeChart { 
    width: 100% !important;
    height: 100% !important;
    border: none; /* Ensure canvas itself has no border */
}

.content-analysis-layout {
    display: grid;
    grid-template-columns: 1fr 2fr; /* Donut chart takes less space than top posts */
    gap: 30px;
    align-items: flex-start; /* Align items to the top of their grid area */
}
.insight-card { /* Common styling for cards in this section */
    background-color: var(--background-content);
    border-radius: 8px;
    padding: 20px;
    box-shadow: var(--shadow-soft);
    border: none; /* Ensure no border on insight cards */
}
.insight-card-title-small {
    font-size: 1.1em;
    font-weight: 600;
    color: var(--zaar-deep-bronze);
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-light);
}

.content-type-breakdown .chart-container-donut {
    width: 100%;
    max-width: 220px; /* Max width for the donut chart */
    height: 220px;   /* Fixed height for the donut chart */
    margin: 0 auto 15px auto; 
    border: none; /* Ensure no border on chart container */
}
.chart-summary-list {
    font-size: 0.9em;
    color: var(--text-secondary);
    list-style: none;
    padding: 0;
    margin-top: 10px;
}
.chart-summary-list li {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}
.chart-summary-list .legend-color-box {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    margin-right: 8px;
    display: inline-block;
}
.chart-summary-list .label-text { flex-grow: 1; }
.chart-summary-list .value-text { font-weight: 600; color: var(--text-primary); }


.top-posts-list #topPerformingPostsContainer {
    max-height: 300px; /* Limit height and make scrollable if many posts */
    overflow-y: auto;
    padding-right: 5px; /* For scrollbar */
}
.top-posts-list #topPerformingPostsContainer::-webkit-scrollbar { width: 5px; }
.top-posts-list #topPerformingPostsContainer::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 2.5px;}
.top-posts-list #topPerformingPostsContainer::-webkit-scrollbar-thumb { background: #ccc; border-radius: 2.5px;}
.top-posts-list #topPerformingPostsContainer::-webkit-scrollbar-thumb:hover { background: #aaa; }

.top-post-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid var(--border-table-row);
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.top-post-item:last-child { border-bottom: none; }
.top-post-item:hover { background-color: #f8f9fa; }

.top-post-item img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
    flex-shrink: 0;
}
.top-post-item-details {
    flex-grow: 1;
    overflow: hidden;
}
.top-post-item-title {
    font-size: 0.9em;
    font-weight: 500;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 2px;
}
.top-post-item-metrics {
    font-size: 0.8em;
    color: var(--text-muted);
    display: flex;
    gap: 10px;
}
.top-post-item-metrics .fas { margin-right: 3px; }

/* Responsive adjustments for analytics page */
@media (max-width: 992px) {
    .content-analysis-layout {
        grid-template-columns: 1fr; /* Stack content mix and top posts */
    }
    .content-type-breakdown .chart-container-donut {
        max-width: 200px;
        height: 200px;
    }
}
@media (max-width: 768px) {
    .date-range-selector {
        flex-direction: column;
        align-items: stretch;
    }
    .date-range-btn {
        text-align: center;
    }
    .kpi-overview-section .kpi-cards {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    .kpi-overview-section .metric { font-size: 1.6em; }
    .kpi-overview-section .card-title-small { font-size: 0.85em; }
    .chart-wrapper { height: 300px; }
}

@media (max-width: 480px) {
    .main-content { padding: 20px; }
    .section-title { font-size: 1.6em; margin-bottom: 20px; }
    .kpi-overview-section .kpi-cards {
        grid-template-columns: 1fr 1fr; /* Two KPI cards per row on smallest screens */
    }
     .kpi-overview-section .card { padding: 15px; }
}